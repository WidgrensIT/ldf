%% -*- mode: erlang;erlang-indent-level: 4;indent-tabs-mode: nil -*-

{erl_opts, [debug_info]}.
{src_dirs, ["src", "src/controllers"]}.
{shell, [{config, "./config/sys.config"}]}.

{erlydtl_opts, [{doc_root, "src/views"},
                {recursive, true},
                {libraries, [
                             {nova_erlydtl_inventory, nova_erlydtl_inventory}
                            ]},
                {default_libraries, [nova_erlydtl_inventory]}
               ]}.

{deps, [
        {pgo, ".*", {git, "https://github.com/erleans/pgo.git", {ref, "6bbd5478ac08ae184cdd8f2331ff81fd94b66610"}}},
        {nova, ".*", {git, "https://github.com/novaframework/nova.git", {ref, "af14993013b340920cec8f81b3eaf12463017ff2"}}}
       ]}.


%% Release profiles
%% To create a release just run
%% rebar3 release -n ldf-prod
{relx, [{release, {ldf, "0.1.0"},
         [ldf],
         [{dev_mode, false},
          {include_erts, true},
          {extended_start_script, true}]}
       ]}.


%% Plugins for rebar3
{plugins, [
           rebar3_auto,
           {rebar3_erlydtl_plugin, ".*",
            {git, "https://github.com/tsloughter/rebar3_erlydtl_plugin.git", {branch, "master"}}}
          ]}.

{provider_hooks, [
                  {pre, [{compile, {erlydtl, compile}}]}
                 ]}.
{xref_checks,[
       undefined_function_calls,
       undefined_functions,
       locals_not_used,
       deprecated_function_calls,
       deprecated_functions
      ]}.